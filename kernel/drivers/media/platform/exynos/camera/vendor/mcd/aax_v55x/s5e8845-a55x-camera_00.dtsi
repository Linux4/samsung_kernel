/*
 * Samsung Exynos SoC series Pablo driver
 *
 * Copyright (c) 2023 Samsung Electronics Co., Ltd
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#include <dt-bindings/camera/exynos_is_dt.h>
#include "module_imx906.dtsi" /* Wide CAMERA */
#include "module_gn5.dtsi" /* Wide CAMERA */
#include "module_imx616.dtsi" /* Front CAMERA */
#include "module_imx258.dtsi" /* UW CAMERA */
#include "module_gc05a3.dtsi" /* Macro CAMERA */

/ {
	fragment@camera {
		target-path = "/";
		__overlay__ {
			#address-cells = <2>;
			#size-cells = <1>;
			interrupt-parent = <&gic>;

			/* Wide CAMERA */
			is_sensor_imx906: is_sensor_imx906@33 {
				af {
					product_name = <18>; /* ACTUATOR_NAME_AK737X */
					i2c_ch = <1>; /* SENSOR_CONTROL_I2C1 lock */
				};

				flash {
					product_name = <20>; /* SM5714 */
				};

				power_seq {
					scenario_normal_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
					};
					scenario_normal_off {
						110 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 500>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_vision_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
					};
					scenario_vision_off {
						110 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 500>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_ois_factory_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
					};
					scenario_ois_factory_off {
						110 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_read_rom_on {
						10 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
					};
					scenario_read_rom_off {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>;};
					};
				};
			};

			is_sensor_gn5: is_sensor_gn5@7A {
				af {
					product_name = <18>; /* ACTUATOR_NAME_AK737X */
					i2c_ch = <1>; /* SENSOR_CONTROL_I2C1 lock */
				};
				flash {
					product_name = <20>; /* SM5714 */
				};

				power_seq {
					scenario_normal_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
					};
					scenario_normal_off {
						110 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_vision_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
					};
					scenario_vision_off {
						110 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_ois_factory_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
					};
					scenario_ois_factory_off {
						110 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_read_rom_on {
						10 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
					};
					scenario_read_rom_off {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>;};
					};
				};
			};

			/* FRONT CAMERA */
			is_sensor_imx616: is_sensor_imx616@1A {
				power_seq {
					scenario_normal_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
						30 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 1 0 2900000>; share = <SRT_ACQUIRE SHARED_PIN1 1>; };
						80 { pname = "MCLK"; pin = <PIN_MCLK 1 1500>; share = <SRT_ACQUIRE SHARED_PIN2 1>; };
					};
					scenario_normal_off {
						30 { pname = "MCLK"; pin = <PIN_MCLK 0 0>; share = <SRT_RELEASE SHARED_PIN2 0>; };
						80 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 0 2000>; share = <SRT_RELEASE SHARED_PIN1 0>; };
						90 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_vision_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
						30 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 1 0 2900000>; share = <SRT_ACQUIRE SHARED_PIN1 1>; };
						80 { pname = "MCLK"; pin = <PIN_MCLK 1 1500>; share = <SRT_ACQUIRE SHARED_PIN2 1>; };
					};
					scenario_vision_off {
						30 { pname = "MCLK"; pin = <PIN_MCLK 0 0>; share = <SRT_RELEASE SHARED_PIN2 0>; };
						80 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 0 2000>; share = <SRT_RELEASE SHARED_PIN1 0>; };
						90 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_read_rom_on {
						10 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
					};
					scenario_read_rom_off {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>;};
					};
				};
			};

			/* UW CAMERA */
			is_sensor_imx258: is_sensor_imx258@10 {
				power_seq {
					scenario_normal_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
						40 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 1 0 2700000>; share = <SRT_ACQUIRE SHARED_PIN1 1>; };
					};
					scenario_normal_off {
						80 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 0 0>; share = <SRT_RELEASE SHARED_PIN1 0>; };
						100 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_vision_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
						40 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 1 0 2700000>; share = <SRT_ACQUIRE SHARED_PIN1 1>; };
					};
					scenario_vision_off {
						80 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 0 0>; share = <SRT_RELEASE SHARED_PIN1 0>; };
						100 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_read_rom_on {
						10 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
					};
					scenario_read_rom_off {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>;};
					};
				};
			};

			/* MACRO CAMERA */
			is_sensor_gc05a3_macro: is_sensor_gc05a3_macro@3E {
				flash {
					product_name = <20>; /* SM5714 */
				};

				power_seq {
					scenario_normal_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>; };
						40 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 1 500 2804000>; share = <SRT_ACQUIRE SHARED_PIN1 1>; };
						80 { pname = "MCLK"; pin = <PIN_MCLK 1 1500>; share = <SRT_ACQUIRE SHARED_PIN2 1>; };
					};
					scenario_normal_off {
						20 { pname = "MCLK"; pin = <PIN_MCLK 0 0>; share = <SRT_RELEASE SHARED_PIN2 0>; };
						70 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 0 500>; share = <SRT_RELEASE SHARED_PIN1 0>; };
						90 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_vision_on {
						20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
						40 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 1 500 2804000>; share = <SRT_ACQUIRE SHARED_PIN1 1>; };
						80 { pname = "MCLK"; pin = <PIN_MCLK 1 1500>; share = <SRT_ACQUIRE SHARED_PIN2 1>; };
					};
					scenario_vision_off {
						20 { pname = "MCLK"; pin = <PIN_MCLK 0 0>; share = <SRT_RELEASE SHARED_PIN2 0>; };
						70 { pname = "VDDA_COMMON_2P8_V"; pin = <PIN_REGULATOR 0 500>; share = <SRT_RELEASE SHARED_PIN1 0>; };
						90 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>; };
					};
					scenario_read_rom_on {
						// 10 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 1 1000>; share = <SRT_ACQUIRE SHARED_PIN0 1>;};
					};
					scenario_read_rom_off {
						// 20 { pname = "VDDIO_COMMON_1P8"; pin = <PIN_REGULATOR 0 1000>; share = <SRT_RELEASE SHARED_PIN0 0>;};
					};
				};
			};

			/* OIS_MCU */
			ois_mcu: ois_mcu@0x152D0000 {
				compatible = "samsung,sensor-ois-mcu";
				reg = <0x0 0x152D0000 0x18000>, /* OIS MCU (SRAM 96KB) */
					<0x0 0x13920000 0x10000>, /* I2C: USI10_USI */
					<0x0 0x13910000 0x10000>, /* SPI: USI09_USI */
					<0x0 0x12B40000 0x1000>, /* PERI setting (GPIO_PERIC) */
					<0x0 0x152C0000 0x2000>; /* SFR */
				reg-names = "core", "i2c", "spi", "peri", "sfr";
				interrupts = <0 INTREQ__OIS_FROM_CM4 IRQ_TYPE_LEVEL_HIGH>;
				id = <0>;
				status = "okay";
				ois_gyro_direction = <0x00 0x01 0x10>;

				power-domains = <&pd_csis>;
				clocks = <&clock GATE_OIS_MCU_TOP_QCH>, <&clock DOUT_DIV_CLK_PERIC_USI09_USI>;
				clock-names = "user_mux", "ipclk_spi";
			};

			/* REAR CAMERA */
			is_sensor0: is_sensor0@15030000 {
				reg = <0x0 0x15050000 0x1000>, /* MIPI-CSI2 */
					<0x0 0x150F0000 0x10000>, /* PHY: M0S4S4S4S4S4S2 */
					<0x0 0x150B022C 0x10>, /* CSIS_FRO */
					<0x0 0x150B0254 0x10>; /* CSIS 5x3 OTF_OUT MUX */
				scenario = <SENSOR_SCENARIO_NORMAL>;    /* Normal, Vision, OIS etc */
				id = <0>;    /* VIDEO_SS0 */
				csi_ch = <2>; /* CSI2 */
				status = "okay";
				interrupts = <0 INTREQ__CSIS2 IRQ_TYPE_LEVEL_HIGH>; /* MIPI-CSI2 */
				interrupt-names = "csi";
				use_cphy = <1>;

				phys = <&mipi_phy_csis2_m0s4s4s4s4_s22 0>;
				phy_setfile = <&dcphy_setfile_cphy>;
			};

			/* FRONT CAMERA */
			is_sensor1: is_sensor1@15040000 {
				reg = <0x0 0x15030000 0x1000>, /* MIPI-CSI0 */
					<0x0 0x150F0000 0x10000>, /* PHY: M0S4S4S4_S22 */
					<0x0 0x150B022C 0x10>, /* CSIS_FRO */
					<0x0 0x150B0254 0x10>; /* CSIS 5x3 OTF_OUT MUX */
				scenario = <SENSOR_SCENARIO_NORMAL>;    /* Normal, Vision, OIS etc */
				id = <1>;
				csi_ch = <0>; /* CSI0 */
				status = "okay";
				interrupts = <0 INTREQ__CSIS0 IRQ_TYPE_LEVEL_HIGH>; /* MIPI-CSI0 */
				interrupt-names = "csi";
				use_cphy = <0>;

				phys = <&mipi_phy_csis0_m0s4s4s4s4_s22 0>;
				phy_setfile = <&dphy_setfile>;
			};

			/* UW CAMERA */
			is_sensor2: is_sensor2@15050000 {
				reg = <0x0 0x15040000 0x1000>, /* MIPI-CSI1 */
					<0x0 0x150F0000 0x10000>, /* PHY: M0S4S4S4_S22 */
					<0x0 0x150B022C 0x10>, /* CSIS_FRO */
					<0x0 0x150B0254 0x10>; /* CSIS 5x3 OTF_OUT MUX */
				scenario = <SENSOR_SCENARIO_NORMAL>;    /* Normal, Vision, OIS etc */
				id = <2>;
				csi_ch = <1>;
				status = "okay";
				use_cphy = <0>;

				interrupts = <0 INTREQ__CSIS1 IRQ_TYPE_LEVEL_HIGH>; /* MIPI-CSI1 */
				phys = <&mipi_phy_csis1_m0s4s4s4s4_s22 0>;
				phy_setfile = <&dphy_setfile>;
			};

			is_sensor3: is_sensor3@15060000 {
				status = "disabled";
			};

			/* MACRO CAMERA */
			is_sensor4: is_sensor4@15070000 {
				reg = <0x0 0x15070000 0x1000>, /* MIPI-CSI4 */
					<0x0 0x150F0000 0x10000>, /* PHY: M0S4S4S4S4S4S2 */
					<0x0 0x150B022C 0x10>, /* CSIS_FRO */
					<0x0 0x150B0254 0x10>; /* CSIS 5x3 OTF_OUT MUX */
				scenario = <SENSOR_SCENARIO_NORMAL>;    /* Normal, Vision, OIS etc */
				id = <3>;
				csi_ch = <4>;
				status = "okay";
				use_cphy = <0>;

				interrupts = <0 INTREQ__CSIS4 IRQ_TYPE_LEVEL_HIGH>; /* MIPI-CSI4 */
				phys = <&mipi_phy_csis4_m0s4s4s4s4_s22 0>;
				phy_setfile = <&dphy_setfile_2lane>;
			};

			is_flash_gpio: is-flash-gpio@0 {
				compatible = "samsung,sensor-flash-sm5714";
				sensor-module = <&is_sensor_imx906>,<&is_sensor_gc05a3_macro>;
				id = <0 3>;
				led_ch = <1>;
				status = "okay";
				flash-gpio = <&gpa1 0 0x1>;
				torch-gpio = <&gpa0 7 0x1>;
			};

			exynos_isp_cpu: icpu@15910000 {
				firmware{
					heap{
						heap-name = "camera"; /* use camera heap */
					};
				};
			};
		}; /* end of __overlay__ */
	}; /* end of fragment */
}; /* end of root */

/***** reference symbol node *****/

/* Ois setting */
&usi_9 {
	usi_v2_mode = "spi";
	status = "okay";
};

&usi_10 {
	usi_v2_mode = "i2c";
	status = "okay";
};

/*
 * [Pin control reference]
 * samsung,pin-function = <0: Input, 1: Output, 2~3: Func>;
 * samsung,pin-pud = <0: NP, 1: PD, 3: PU(2KOhm), 5: PU(0.8KOhm)>;
 * samsung,pin-drv = <0: x1, 1: x2, 2: x3, 3: x4>;
 * samsung,pin-con-pdn = <0: Output0, 1: Output1, 2: Input, 3:Prev>;
 * samsung,pin-pud-pdn = <0: NP, 1: PD, 3: PU>;
 */

/* GPIO_PERI */
&pinctrl_5 {
	/* REAR Wide : i2c0 */
	hsi2c23_bus: hsi2c23-bus {
		samsung,pins = "gpp3-0", "gpp3-1";
		samsung,pin-function = <2>;
		samsung,pin-pud = <5>;
		samsung,pin-drv = <0>;
	};

	hsi2c23_bus_in: hsi2c23-bus-in {
		samsung,pins = "gpp3-0", "gpp3-1";
		samsung,pin-function = <0>;
		samsung,pin-pud = <5>;
		samsung,pin-drv = <0>;
		samsung,pin-con-pdn = <2>;
		samsung,pin-pud-pdn = <5>;
	};
};

&pinctrl_3 {
	/* FRONT i2c1 */
	hsi2c2_bus: hsi2c2-bus {
		samsung,pins = "gpp0-4", "gpp0-5";
		samsung,pin-function = <2>;
		samsung,pin-pud = <5>;
		samsung,pin-drv = <0>;
	};

	hsi2c2_bus_in: hsi2c2-bus-in {
		samsung,pins = "gpp0-4", "gpp0-5";
		samsung,pin-function = <0>;
		samsung,pin-pud = <5>;
		samsung,pin-drv = <0>;
		samsung,pin-con-pdn = <2>;
		samsung,pin-pud-pdn = <5>;
	};

	/* AF-EEPROM hsi2c */
	hsi2c9_bus: hsi2c9-bus {
		samsung,pins = "gpp2-2", "gpp2-3";
		samsung,pin-function = <3>;
		samsung,pin-pud = <3>;
		samsung,pin-drv = <0>;
	};

	hsi2c9_bus_in: hsi2c9-bus-in {
		samsung,pins = "gpp2-2", "gpp2-3";
		samsung,pin-function = <0>;
		samsung,pin-pud = <3>;
		samsung,pin-drv = <0>;
		samsung,pin-con-pdn = <2>;
		samsung,pin-pud-pdn = <3>;
	};

	/* UW & Macro */
	hsi2c10_bus: hsi2c10-bus {
		samsung,pins = "gpp2-4", "gpp2-5";
		samsung,pin-function = <2>;
		samsung,pin-pud = <3>;
		samsung,pin-drv = <0>;
	};

	hsi2c10_bus_in: hsi2c10-bus-in {
		samsung,pins = "gpp2-4", "gpp2-5";
		samsung,pin-function = <0>;
		samsung,pin-pud = <0>;
		samsung,pin-drv = <0>;
		samsung,pin-con-pdn = <2>;
		samsung,pin-pud-pdn = <0>;
	};

	/* PERIC_USI01_I2C */
	hsi2c3_bus: hsi2c3-bus {
		samsung,pins = "gpp0-6", "gpp0-7";
		samsung,pin-function = <1>;
		samsung,pin-pud = <1>;
		samsung,pin-drv = <0>;
		samsung,pin-con-pdn = <0>;
		samsung,pin-pud-pdn = <1>;
	};

	/* RCAM2_LDO_EN */
	rcam2_ldo_en: rcam2-ldo-en {
		samsung,pins = "gpg1-0";
		samsung,pin-con-pdn = <0>;
	};
};

&pinctrl_0 {
	/* flash */
	cam_flash_en: cam-flash-en {
		samsung,pins = "gpa1-0";
		samsung,pin-function = <1>;
		samsung,pin-con-pdn= <3>;
	};

	/* torch */
	cam_torch_en: cam-torch-en {
		samsung,pins = "gpa0-7";
		samsung,pin-function = <1>;
		samsung,pin-con-pdn= <3>;
	};
};

&hsi2c_9 {
	#address-cells = <1>;
	#size-cells = <0>;
	gpios = <&gpp2 2 0 &gpp2 3 0>;
	status = "okay";
	clock-frequency = <400000>;
	samsung,reset-before-trans;

	pinctrl-names = "default","on_i2c","off_i2c";
	pinctrl-0 = <&hsi2c9_bus_in>;
	pinctrl-1 = <&hsi2c9_bus>;
	pinctrl-2 = <&hsi2c9_bus_in>;

	rear_eeprom@50 {
		compatible = "samsung,is-device-rom-i2c";
		reg = <0x50>;

		rom_id = <0>; /* ROM_ID_REAR */
		rom_type = <2>; /* ROM_TYPE_EEPROM */
		rom_power_position = <0>;
		rom_size = <0x488A>;
		cal_map_es_version = <31>;
		camera_module_es_version = "A";
		/* ignore_cal_crc_error; */
		skip_cal_loading;

		/* 20230713_A55_5G_CAM1(Wide_50M_IMX906)_EEPROM_Rear_Cal map V008.001_QC_LSI_MTK_Common_Map.xlsx */
		/* 0 header */
		header_crc_check_list = <0x0000 0x00FB 0x00FC>;
		crc_check_list = <
						0x0100 0x013B 0x013C
						0x0140 0x019B 0x019C
						0x01A0 0x0F2B 0x0F2C
						0x0F30 0x0F7B 0x0F7C
						0x0F80 0x183B 0x183C
						0x1840 0x188B 0x188C
						0x1890 0x21BB 0x21BC
						0x2C50 0x2C6B 0x2C6C
						0x2C70 0x306B 0x306C
		>;

		/* Master */
		rom_header_version_start_addr = <0x6E>;
		rom_header_cal_data_start_addr = <0x1840>;
		rom_header_cal_map_ver_start_addr = <0x90>;
		rom_header_isp_setfile_ver_start_addr = <0x71>;
		rom_header_project_name_start_addr = <0x98>;
		rom_header_module_id_addr = <0xB6>; /* 0xB0 + reserved bytes */
		rom_header_sensor_id_addr = <0xC0>;
		rom_header_mtf_data_addr = <0x3070>; /* Resolution Data */
		rom_paf_cal_start_addr = <0x1890>;
		rom_awb_master_addr = <0x2C50>;
		rom_awb_module_addr = <0x2C60>;
		/* Near Far Mid1 ... Mid7 */
		rom_af_cal_addr = <0x184C 0x1840>;

		/* sensor ois - xgg ygg xcoef ycoef xsupper ysupper calmark */
		rom_ois_list = <0x0150 0x0154 0x015C 0x015E 0x0178 0x017A 0x0170>;
	};

	front_eeprom@51 {
		compatible = "samsung,is-device-rom-i2c";
		reg = <0x51>;

		rom_id = <1>; /* ROM_ID_FRONT */
		rom_type = <2>; /* ROM_TYPE_EEPROM */
		rom_power_position = <1>;
		need_i2c_config;
		rom_size = <0x4000>;
		cal_map_es_version = <31>;
		camera_module_es_version = "A";
		/* ignore_cal_crc_error; */
		/* skip_cal_loading; */

		/* 20230713_A55_5G_CAM1(Front_32M_IMX616)_EEPROM_Front_Cal map V008.001_QC_LSI_MTK_common_Mapp */
		/* 0 header */
		header_crc_check_list = <0x0000 0x007B 0x007C>;
		/* 0 master */
		crc_check_list = <
			0x0080 0x081B 0x081C
			0x0820 0x0C4B 0x0C4C
		>;

		/* Master */
		rom_header_cal_data_start_addr = <0x00>;
		rom_header_version_start_addr = <0x1E>;
		rom_header_cal_map_ver_start_addr = <0x30>;
		rom_header_project_name_start_addr = <0x38>;
		rom_header_module_id_addr = <0x56>; /* 0x50 + reserved bytes */
		rom_header_sensor_id_addr = <0x60>;
		rom_header_mtf_data_addr = <0xC50>; /* Resolution Data */
		rom_awb_master_addr = <0x0820>;

		/* Front Crosstalk Cal data */
		rom_xtc_cal_data_start_addr = <0x80>;
		rom_xtc_cal_data_size = <1820>;
		rom_xtc_cal_data_addr_list = <0x0080 0x0698>;
	};

	is-actuator@0C { /* wide AF */
		compatible = "samsung,exynos-is-actuator-ak737x";
		sensor-module = <&is_sensor_imx906>;
		reg = <0x0C>;
		id = <0>; /* matching is_sensor id */
		/* AK7314: addr 0xF3, data 0x19 */
		vendor_product_id = <0xF3 0x13 0xF3 0x19>;
		vendor_first_pos = <2000>;  /* 12bits */
		vendor_first_delay = <2000>;
		vendor_soft_landing_seqid = <3>;
		vendor_soft_landing_list = <640 30 64 30>; /* 1st_pos delay 2nd_pos delay */
		vendor_use_sleep_mode;
		vendor_use_standby_mode; /* AK7314 with vendor_use_sleep_mode */
		/* delay settings for AK7314 */
		vendor_sleep_to_standby_delay = <2200>;
		vendor_active_to_standby_delay = <300>;
	};
};

&hsi2c_23 {
	#address-cells = <1>;
	#size-cells = <0>;
	gpios = <&gpp3 0 0 &gpp3 1 0>;
	status = "okay";
	clock-frequency = <1000000>;
	samsung,reset-before-trans;
	samsung,fast-plus-mode;

	pinctrl-names = "default","on_i2c","off_i2c";
	pinctrl-0 = <&hsi2c23_bus_in>;
	pinctrl-1 = <&hsi2c23_bus>;
	pinctrl-2 = <&hsi2c23_bus_in>;

	is-imx906@33 {
		compatible = "samsung,exynos-is-cis-imx906";
		sensor-module = <&is_sensor_imx906>;
		reg = <0x33>; /* 1 bit right shift */
		id = <0>; /* matching is_sensor id */
		setfile = "setA";
		status = "okay";
		vendor_use_adaptive_mipi;
		//rev_reg = <0x0002 1>;
	};

	is-gn5@7A {
		compatible = "samsung,exynos-is-cis-gn5";
		sensor-module = <&is_sensor_gn5>;
		reg = <0x3D>; /* 1 bit right shift */
		id = <0>; /* matching is_sensor id */
		setfile = "setA";
		status = "okay";
		vendor_use_adaptive_mipi;
		//rev_reg = <0x0002 1>;
	};
};

&hsi2c_2 {
	#address-cells = <1>;
	#size-cells = <0>;
	gpios = <&gpp0 4 0 &gpp0 5 0>;
	status = "okay";
	clock-frequency = <1000000>;
	samsung,reset-before-trans;
	samsung,fast-plus-mode;

	pinctrl-names = "default","on_i2c","off_i2c";
	pinctrl-0 = <&hsi2c2_bus_in>;
	pinctrl-1 = <&hsi2c2_bus>;
	pinctrl-2 = <&hsi2c2_bus_in>;

	is-imx616@1A {
		compatible = "samsung,exynos-is-cis-imx616";
		sensor-module = <&is_sensor_imx616>;
		reg = <0x1A>; /* 1 bit right shift */
		id = <1>; /* matching is_sensor id */
		setfile = "setA";
		status = "okay";
		vendor_use_adaptive_mipi;
	};
};

&hsi2c_10 {
	#address-cells = <1>;
	#size-cells = <0>;
	gpios = <&gpp2 4 0 &gpp2 5 0>;
	status = "okay";
	clock-frequency = <400000>;
	samsung,reset-before-trans;

	pinctrl-names = "default","on_i2c","off_i2c";
	pinctrl-0 = <&hsi2c10_bus_in>;
	pinctrl-1 = <&hsi2c10_bus>;
	pinctrl-2 = <&hsi2c10_bus_in>;

	/* UW */
	is-imx258@10 {
		compatible = "samsung,exynos-is-cis-imx258";
		sensor-module = <&is_sensor_imx258>;
		reg = <0x10>; /* 1 bit right shift */
		id = <2>; /* matching is_sensor id */
		setfile = "setA";
		status = "okay";
		sensor_f_number = <240>;  /* f number 2.4 */
		vendor_use_adaptive_mipi;
	};

	/* Macro */
	is-gc05a3-macro@3E {
		compatible = "samsung,exynos-is-cis-gc05a3";
		sensor-module = <&is_sensor_gc05a3_macro>;
		reg = <0x3F>; /* 1 bit right shift */
		id = <3>; /* matching is_sensor id */
		setfile = "setA";
		status = "okay";
		vendor_use_adaptive_mipi;
	};
};

&hsi2c_25 {
	sm5714-fled@49 {
		compatible = "siliconmitus,sm5714-fled";
		status = "okay";
		reg = <0x49>;
		flash-gpio = <&gpa1 0 0x1>;
		torch-gpio = <&gpa0 7 0x1>;
		flash-brightness = <0xA>; /* 0x0(300mA), 0x1(700mA), 0x2(800mA), 0x3(900mA) ~ 0xF(1500mA) : 50mA Step */
		preflash-brightness = <0x4>;
		torch-brightness = <0x4>; /* 0x0(50mA) ~ 0x7(225mA) : 25mA Step */
		torch-brightness-levels = <0 1 2 5 7>;
		timeout = <0xff>;
	};
};

&exynos_is {
	pinctrl-0 = <&cam_torch_en &cam_flash_en &hsi2c3_bus &rcam2_ldo_en>;

	vendor {
		//use_module_check;
		//check_sensor_vendor;
		eeprom_on_delay = <20>;
		ois_sensor_index = <0>;
		mcu_sensor_index = <0>;

		is_vendor_sensor_count = <4>;
		max_supported_camera = <4>;
		supported_cameraId = <0 1 58 60>;

		/*
		* Wide(0)
		* Front(1)
		* U Wide(2)
		* Front 80(3) - not available for factory
		* Front Secure(5) - not available for factory
		* DUAL_REAR_PORTRAIT_WIDE(23)
		* Bokeh(52)
		* Rear_UW(58)
		* Macro(60)
		*/

		/* count of using camera info */
		max_camera_num = <4>;

		/*
		 * sensor position by HAL
		 * 0: Wide
		 * 1: Front
		 * 2: Tele or Bokeh
		 * 4: UW
		 * 6: Macro or Ultra Tele
		 */
		sensor_id { /* sensor position = <sensor_id> */
			0 = <132>;	/* IMX906 */
			1 = <121>;	/* IMX616 */
			4 = <110>;	/* IMX258 */
			6 = <226>;	/* GC05A3 */
		};
		sensor_name { /* position = "name" */
			0 = "IMX906";
			1 = "IMX616";
			4 = "IMX258";
			6 = "GC05A3";
		};

		camera_info0 {			/* 0 : sysfs rear */
			position = <0>;		/* 0 : wide */
			valid = <1>;		/* 0 : INVALID, 1 : VALID */
		};
		camera_info1 {			/* 1 : sysfs front */
			position = <1>;		/* 1 : front master */
			valid = <1>;		/* 0 : INVALID, 1 : VALID */
		};
		camera_info2 {			/* 2 : sysfs rear2 */
			position = <4>;		/* 4 : ultra wide */
			valid = <1>;		/* 0 : INVALID, 1 : VALID */
		};
		camera_info3 {			/* 3 : sysfs front2 */
			valid = <0>;		/* 0 : INVALID, 1 : VALID */
		};
		camera_info4 {			/* 4 : sysfs rear3 */
			valid = <0>;		/* 0 : INVALID, 1 : VALID */
		};

		sysfs {
			rear_afcal;
			rear_dualcal;

			rear2;
			rear2_moduleid;

			rear3;
			rear3_moduleid;

			front_fixed_focus;
		};
	};

	is_dvfs {
		table0 {
			desc = "dvfs table v0.2";

			default_int_cam = <1>;
			default_cam = <1>;
			default_csis = <1>;
			default_isp = <1>;
			default_mif = <1>;
			default_icpu = <0>;

			rear_single_photo_isp = <6>;
			rear_single_photo_int_cam = <4>;
			rear_single_photo_mif = <8>;
			rear_single_photo_icpu = <1>;

			rear_single_photo_full_isp = <5>;
			rear_single_photo_full_int_cam = <3>;
			rear_single_photo_full_mif = <7>;
			rear_single_photo_full_icpu = <1>;

			rear_single_video_fhd30_isp = <6>;
			rear_single_video_fhd30_int_cam = <4>;
			rear_single_video_fhd30_mif = <8>;
			rear_single_video_fhd30_icpu = <1>;

			rear_single_video_fhd30_supersteady_isp = <4>;
			rear_single_video_fhd30_supersteady_int_cam = <3>;
			rear_single_video_fhd30_supersteady_mif = <7>;
			rear_single_video_fhd30_supersteady_icpu = <0>;

			rear_single_video_fhd60_isp = <6>;
			rear_single_video_fhd60_int_cam = <4>;
			rear_single_video_fhd60_mif = <4>;
			rear_single_video_fhd60_icpu = <1>;

			rear_single_video_fhd60_supersteady_isp = <4>;
			rear_single_video_fhd60_supersteady_int_cam = <3>;
			rear_single_video_fhd60_supersteady_mif = <3>;
			rear_single_video_fhd60_supersteady_icpu = <1>;

			rear_single_video_uhd30_isp = <6>;
			rear_single_video_uhd30_int_cam = <4>;
			rear_single_video_uhd30_mif = <5>;
			rear_single_video_uhd30_icpu = <1>;

			rear_single_video_uhd30_hf_isp = <5>;
			rear_single_video_uhd30_hf_int_cam = <4>;
			rear_single_video_uhd30_hf_mif = <5>;
			rear_single_video_uhd30_hf_icpu = <1>;

			rear_single_video_uhd60_isp = <3>;
			rear_single_video_uhd60_int_cam = <4>;
			rear_single_video_uhd60_mif = <2>;
			rear_single_video_uhd60_icpu = <1>;

			rear_single_video_uhd60_hf_isp = <3>;
			rear_single_video_uhd60_hf_int_cam = <4>;
			rear_single_video_uhd60_hf_mif = <2>;
			rear_single_video_uhd60_hf_icpu = <1>;

			rear_single_capture_cam = <0>;
			rear_single_capture_isp = <0>;
			rear_single_capture_int_cam = <4>;
			rear_single_capture_mif = <0>;
			rear_single_capture_icpu = <1>;

			rear_single_video_fhd120_isp = <5>;
			rear_single_video_fhd120_int_cam = <4>;
			rear_single_video_fhd120_mif = <5>;
			rear_single_video_fhd120_icpu = <1>;

			rear_single_video_hd30_isp = <6>;
			rear_single_video_hd30_int_cam = <4>;
			rear_single_video_hd30_mif = <8>;
			rear_single_video_hd30_icpu = <1>;

			rear_single_video_hd120_isp = <5>;
			rear_single_video_hd120_int_cam = <4>;
			rear_single_video_hd120_mif = <5>;
			rear_single_video_hd120_icpu = <1>;

			rear_single_video_hd240_isp = <5>;
			rear_single_video_hd240_int_cam = <4>;
			rear_single_video_hd240_mif = <5>;
			rear_single_video_hd240_icpu = <1>;

			rear_single_ssm_isp = <5>;
			rear_single_ssm_int_cam = <4>;
			rear_single_ssm_mif = <5>;
			rear_single_ssm_icpu = <1>;

			rear_single_remosaic_photo_isp = <0>;
			rear_single_remosaic_photo_int_cam = <4>;
			rear_single_remosaic_photo_mif = <0>;
			rear_single_remosaic_photo_icpu = <1>;

			rear_single_remosaic_capture_cam = <0>;
			rear_single_remosaic_capture_isp = <0>;
			rear_single_remosaic_capture_int_cam = <4>;
			rear_single_remosaic_capture_mif = <0>;
			rear_single_remosaic_capture_icpu = <1>;

			rear_single_vt_isp = <6>;
			rear_single_vt_int_cam = <4>;
			rear_single_vt_mif = <8>;
			rear_single_vt_icpu = <1>;

			rear_single_wide_fastae_isp = <5>;
			rear_single_wide_fastae_int_cam = <4>;
			rear_single_wide_fastae_mif = <5>;
			rear_single_wide_fastae_icpu = <1>;

			rear_dual_wide_tele_photo_isp = <1>;
			rear_dual_wide_tele_photo_int_cam = <1>;
			rear_dual_wide_tele_photo_mif = <0>;
			rear_dual_wide_tele_photo_icpu = <0>;

			rear_dual_wide_tele_video_fhd30_isp = <1>;
			rear_dual_wide_tele_video_fhd30_int_cam = <1>;
			rear_dual_wide_tele_video_fhd30_mif = <0>;
			rear_dual_wide_tele_video_fhd30_icpu = <0>;

			rear_dual_wide_tele_video_fhd60_isp = <1>;
			rear_dual_wide_tele_video_fhd60_int_cam = <1>;
			rear_dual_wide_tele_video_fhd60_mif = <0>;
			rear_dual_wide_tele_video_fhd60_icpu = <0>;

			rear_dual_wide_tele_video_uhd30_isp = <1>;
			rear_dual_wide_tele_video_uhd30_int_cam = <1>;
			rear_dual_wide_tele_video_uhd30_mif = <0>;
			rear_dual_wide_tele_video_uhd30_icpu = <0>;

			rear_dual_wide_tele_video_uhd60_isp = <1>;
			rear_dual_wide_tele_video_uhd60_int_cam = <1>;
			rear_dual_wide_tele_video_uhd60_mif = <0>;
			rear_dual_wide_tele_video_uhd60_icpu = <0>;

			rear_dual_wide_tele_capture_cam = <0>;
			rear_dual_wide_tele_capture_isp = <1>;
			rear_dual_wide_tele_capture_int_cam = <1>;
			rear_dual_wide_tele_capture_mif = <0>;
			rear_dual_wide_tele_capture_icpu = <0>;

			rear_dual_wide_ultrawide_photo_isp = <6>;
			rear_dual_wide_ultrawide_photo_int_cam = <4>;
			rear_dual_wide_ultrawide_photo_mif = <5>;
			rear_dual_wide_ultrawide_photo_icpu = <1>;

			rear_dual_wide_ultrawide_video_fhd30_isp = <1>;
			rear_dual_wide_ultrawide_video_fhd30_int_cam = <1>;
			rear_dual_wide_ultrawide_video_fhd30_mif = <0>;
			rear_dual_wide_ultrawide_video_fhd30_icpu = <0>;

			rear_dual_wide_ultrawide_video_fhd60_isp = <1>;
			rear_dual_wide_ultrawide_video_fhd60_int_cam = <1>;
			rear_dual_wide_ultrawide_video_fhd60_mif = <0>;
			rear_dual_wide_ultrawide_video_fhd60_icpu = <0>;

			rear_dual_wide_ultrawide_video_uhd30_isp = <1>;
			rear_dual_wide_ultrawide_video_uhd30_int_cam = <1>;
			rear_dual_wide_ultrawide_video_uhd30_mif = <0>;
			rear_dual_wide_ultrawide_video_uhd30_icpu = <0>;

			rear_dual_wide_ultrawide_video_uhd60_isp = <1>;
			rear_dual_wide_ultrawide_video_uhd60_int_cam = <1>;
			rear_dual_wide_ultrawide_video_uhd60_mif = <0>;
			rear_dual_wide_ultrawide_video_uhd60_icpu = <0>;

			rear_dual_wide_ultrawide_capture_cam = <0>;
			rear_dual_wide_ultrawide_capture_isp = <1>;
			rear_dual_wide_ultrawide_capture_int_cam = <4>;
			rear_dual_wide_ultrawide_capture_mif = <0>;
			rear_dual_wide_ultrawide_capture_icpu = <1>;

			front_single_photo_isp = <6>;
			front_single_photo_int_cam = <4>;
			front_single_photo_mif = <8>;
			front_single_photo_icpu = <1>;

			front_single_photo_full_isp = <5>;
			front_single_photo_full_int_cam = <3>;
			front_single_photo_full_mif = <7>;
			front_single_photo_full_icpu = <1>;

			front_single_video_fhd30_isp = <6>;
			front_single_video_fhd30_int_cam = <4>;
			front_single_video_fhd30_mif = <8>;
			front_single_video_fhd30_icpu = <1>;

			front_single_video_uhd30_isp = <6>;
			front_single_video_uhd30_int_cam = <4>;
			front_single_video_uhd30_mif = <5>;
			front_single_video_uhd30_icpu = <1>;

			front_single_video_fhd60_isp = <6>;
			front_single_video_fhd60_int_cam = <4>;
			front_single_video_fhd60_mif = <5>;
			front_single_video_fhd60_icpu = <1>;

			front_single_video_uhd60_hf_isp = <1>;
			front_single_video_uhd60_hf_int_cam = <1>;
			front_single_video_uhd60_hf_mif = <0>;
			front_single_video_uhd60_hf_icpu = <0>;

			front_single_capture_cam = <0>;
			front_single_capture_isp = <0>;
			front_single_capture_int_cam = <4>;
			front_single_capture_mif = <0>;
			front_single_capture_icpu = <1>;

			front_single_remosaic_photo_isp = <0>;
			front_single_remosaic_photo_int_cam = <4>;
			front_single_remosaic_photo_mif = <0>;
			front_single_remosaic_photo_icpu = <1>;

			front_single_remosaic_capture_cam = <0>;
			front_single_remosaic_capture_isp = <0>;
			front_single_remosaic_capture_int_cam = <4>;
			front_single_remosaic_capture_mif = <0>;
			front_single_remosaic_capture_icpu = <1>;

			front_single_vt_isp = <6>;
			front_single_vt_int_cam = <4>;
			front_single_vt_mif = <8>;
			front_single_vt_icpu = <1>;

			front_single_fastae_cam = <6>;
			front_single_fastae_isp = <6>;
			front_single_fastae_int_cam = <4>;
			front_single_fastae_mif = <5>;
			front_single_fastae_icpu = <1>;

			front_single_video_fhd120_isp = <6>;
			front_single_video_fhd120_int_cam = <4>;
			front_single_video_fhd120_mif = <5>;
			front_single_video_fhd120_icpu = <1>;

			front_single_video_hd30_isp = <6>;
			front_single_video_hd30_int_cam = <4>;
			front_single_video_hd30_mif = <8>;
			front_single_video_hd30_icpu = <1>;

			front_single_video_hd120_isp = <6>;
			front_single_video_hd120_int_cam = <4>;
			front_single_video_hd120_mif = <5>;
			front_single_video_hd120_icpu = <1>;

			pip_dual_photo_isp = <6>;
			pip_dual_photo_int_cam = <4>;
			pip_dual_photo_mif = <5>;
			pip_dual_photo_icpu = <1>;

			pip_dual_capture_cam = <0>;
			pip_dual_capture_isp = <0>;
			pip_dual_capture_int_cam = <4>;
			pip_dual_capture_mif = <0>;
			pip_dual_capture_icpu = <1>;

			pip_dual_video_fhd30_isp = <5>;
			pip_dual_video_fhd30_int_cam = <1>;
			pip_dual_video_fhd30_mif = <5>;
			pip_dual_video_fhd30_icpu = <0>;

			sensor_only_rear_single_cam = <1>;
			sensor_only_rear_single_isp = <1>;
			sensor_only_rear_single_int_cam = <1>;
			sensor_only_rear_single_mif = <1>;
			sensor_only_rear_single_icpu = <0>;

			sensor_only_front_cam = <1>;
			sensor_only_front_isp = <1>;
			sensor_only_front_int_cam = <1>;
			sensor_only_front_mif = <1>;
			sensor_only_front_icpu = <0>;

			throttling_cam = <0>;
			throttling_isp = <0>;
			throttling_int_cam = <0>;
			throttling_mif = <0>;
			throttling_icpu = <0>;

			max_csis = <1>;
			max_cam = <1>;
			max_isp = <1>;
			max_int_cam = <1>;
			max_mif = <1>;
			max_icpu = <0>;
		};
	};
};
